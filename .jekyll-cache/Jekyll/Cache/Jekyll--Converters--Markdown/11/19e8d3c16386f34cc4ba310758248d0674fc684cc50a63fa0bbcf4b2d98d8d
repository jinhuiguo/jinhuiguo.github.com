I"ß<p>å‰äº›æ—¥å­æ¢åˆ°äº† jekyllï¼Œé¡ºæ‰‹å­¦ç€å†™äº†ä¸ª rakefile ç”¨æ¥ç”Ÿæˆæ–°æ–‡ç« ï¼ˆç”¨ uuid åš disqus çš„ post id æ‰€ä»¥æ¯æ¬¡åˆ†å¼€ç”Ÿæˆ uuid å†æ‹·è¿›æ¥è¿˜æ˜¯æŒºéº»çƒ¦çš„ï¼‰å’Œ github pages å‘å¸ƒã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>task :default =&gt; :generate

desc 'Create new post with rake "post[post-name]"'
task :post, [:title] do |t, args|
  if args.title then
    new_post(args.title)
  else
    puts 'rake "post[post-name]"'
  end
end

desc 'Build site with Jekyll'
task :generate =&gt; :clean do
  `jekyll`
end

desc 'Start server'
task :server =&gt; :clean do
  `jekyll --server`
end

desc 'Deploy with rake "depoly[comment]"'
task :deploy, [:comment] =&gt; :generate do |t, args|
  if args.comment then
    `git commit . -m '#{args.comment}' &amp;&amp; git push`
  else
    `git commit . -m 'new deployment' &amp;&amp; git push`
  end
end

desc 'Clean up'
task :clean do
  `rm -rf _site`
end

def new_post(title)
  time = Time.now
  filename = "_posts/" + time.strftime("%Y-%m-%d-") + title + '.markdown'
  if File.exists? filename then
    puts "Post already exists: #{filename}"
    return
  end
  uuid = `uuidgen | tr "[:upper:]" "[:lower:]" | tr -d "\n"`
  File.open(filename, "wb") do |f|
    f &lt;&lt; &lt;&lt;-EOS
---
title: #{title}
layout: post
guid: urn:uuid:#{uuid}
tags:
  - 
---


EOS
  %x[echo "#{filename}" | pbcopy]
  end
  puts "created #{filename}"
  `git add #{filename}`
end
</code></pre></div></div>

<p>è¿™æ˜¯ä¸€ç¯‡å¾ˆæ°´çš„æ–‡ç« ï¼Œæˆ‘æƒ³è¯´çš„æ˜¯ï¼Œå†™å®Œ rakefile çªç„¶æ„Ÿè§‰å¯¹ ruby å¾ˆæœ‰çˆ±ï¼Œä¹°äº†æœ¬ The Ruby Programming Language æ‰“ç®—å­¦å­¦ rubyï¼Œä¹Ÿå…å¾—è¢«ä¸–ç•Œæ·˜æ±°äº†ã€‚</p>

<p><em>é¡ºä¾¿è¯•è¯•æ–° rakefile</em></p>
:ET